{
    "componentChunkName": "component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js",
    "path": "/docs/getting-started/adot-eks-add-on/add-on-v88-migration",
    "result": {"data":{"mdx":{"id":"bded2745-9b2e-502a-b7d5-0ba4e0bfdd2f","excerpt":"ADOT EKS Add-on v0.88.0 will be introducing a set of breaking changes to the add-on advanced configuration. \nThese breaking changes will affect any user who hasâ€¦","fields":{"slug":"/docs/getting-started/adot-eks-add-on/add-on-v88-migration/"},"frontmatter":{"title":"ADOT EKS Add-on v0.88.0 Advanced Configuration Migration Guide","description":"This presents a migrationg guide for breaking changes introduced in v0.88.0","image":null,"disableTableOfContents":null},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"ADOT EKS Add-on v0.88.0 Advanced Configuration Migration Guide\",\n  \"description\": \"This presents a migrationg guide for breaking changes introduced in v0.88.0\",\n  \"path\": \"/docs/getting-started/adot-eks-add-on/add-on-v88-migration\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"ADOT EKS Add-on v0.88.0 will be introducing a set of breaking changes to the add-on advanced configuration.\\nThese breaking changes will affect any user who has configured an Advanced Configuration which uses the collector.* section.\\nUsers with an incompatible advanced configuration will receive errors when upgrading their add-on version to v0.88.0 or beyond.\\nThese changes are intended to provide a better interface for configuring the ADOT Collector deployments that can be opted into\\nthrough the advanced configuration. \"), mdx(\"p\", null, \"This guide will provide an overview of what has changed and provide explicit steps on how you can migrate a pre\\nv0.88.0-eksbuild.1 advanced configuration to the new schema. Please visit the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/docs/getting-started/adot-eks-add-on/add-on-configuration\"\n  }, \"v0.88.0 advanced configuration\\ndocumentation\"), \" for a full list of configurable options for Add-on version v0.88.0 and beyond.\"), mdx(\"h2\", {\n    \"id\": \"notable-changes\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#notable-changes\",\n    \"aria-label\": \"notable changes permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Notable changes\"), mdx(\"h3\", {\n    \"id\": \"separated-collector-deployments-for-prometheus-metrics-and-otlp-trace-ingestion\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#separated-collector-deployments-for-prometheus-metrics-and-otlp-trace-ingestion\",\n    \"aria-label\": \"separated collector deployments for prometheus metrics and otlp trace ingestion permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Separated collector deployments for Prometheus metrics and OTLP trace ingestion\"), mdx(\"p\", null, \"Previously, configuring a metrics (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"collector.amp.enabled\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"collector.emf.enabled\"), \") pipeline in addition to\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"collector.xray.enabled\"), \" would create a single OpenTelemetryCollector custom resource. This has now been split\\ninto two distinct OpenTelemetryCollector custom resource deployments, \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/docs/getting-started/adot-eks-add-on/config-prometheus-metrics\"\n  }, \"prometheusMetrics\"), \"\\nand \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/docs/getting-started/adot-eks-add-on/config-otlp-ingest\"\n  }, \"otlpIngest\"), \". Doing this provides benefits such as the\\nusage of distinct service accounts with a minimum set of permissions and individually configurable CPU and memory allocations. \"), mdx(\"h3\", {\n    \"id\": \"service-accounts-are-now-created-with-a-fixed-name-and-creation-behavior\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#service-accounts-are-now-created-with-a-fixed-name-and-creation-behavior\",\n    \"aria-label\": \"service accounts are now created with a fixed name and creation behavior permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Service accounts are now created with a fixed name and creation behavior\"), mdx(\"p\", null, \"Previously users would be instructed to create service accounts as a prerequisite step and then\\nset \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"collector.serviceAccount.create\"), \" to false while providing the previously created service account names.\\nService accounts will now always be created when opting into a preconfigured collector custom resource.\\nService accounts will also use a fixed, non configurable, name that is unique per collector custom resource\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Users will now be required to provide an annotation \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"eks.amazonaws.com/role-arn\"), \" after creating an IAM Role associated\\nto the provided Kubernetes service account name and namespace.\"), mdx(\"h3\", {\n    \"id\": \"deployment-mode-is-no-longer-configurable\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#deployment-mode-is-no-longer-configurable\",\n    \"aria-label\": \"deployment mode is no longer configurable permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Deployment mode is no longer configurable\"), mdx(\"p\", null, \"The option to configure a deployment mode has been removed in the current advanced configuration version.\\nThis is now automatically set for the preconfigured OpenTelmetery collector custom resource.\"), mdx(\"h3\", {\n    \"id\": \"replica-count-is-no-longer-configurable\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#replica-count-is-no-longer-configurable\",\n    \"aria-label\": \"replica count is no longer configurable permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Replica count is no longer configurable\"), mdx(\"p\", null, \"The option to configure the replica count of the advanced configuration has\\nbeen removed in the current advanced configuration version. Increasing the replica\\ncount could lead to errors with certain pre-configured Collector configurations. \"), mdx(\"h3\", {\n    \"id\": \"increased-resource-configuration-defaults\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#increased-resource-configuration-defaults\",\n    \"aria-label\": \"increased resource configuration defaults permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Increased resource configuration defaults\"), mdx(\"p\", null, \"The default CPU and Memory resource requests and limits have been increased. The previous defaults\\ndid not cover basic use cases which could lead to CPU throttling or out of memory errors. It is highly\\nrecommended to configure resource advanced configuration values to match to the cluster workload.\"), mdx(\"h2\", {\n    \"id\": \"advanced-configuration-migration\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#advanced-configuration-migration\",\n    \"aria-label\": \"advanced configuration migration permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Advanced Configuration Migration\"), mdx(\"p\", null, \"The following sections will detail how to convert your pre v0.88.0 advanced configuration to a format\\nfor v0.88.0 and beyond. A scenario will be presented where Amazon Managed Service for Prometheus,\\nX-Ray, and CloudWatch EMF have been configured in the same template.\"), mdx(\"h3\", {\n    \"id\": \"create-new-iam-roles-for-kubernetes-service-accounts\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#create-new-iam-roles-for-kubernetes-service-accounts\",\n    \"aria-label\": \"create new iam roles for kubernetes service accounts permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Create new IAM roles for Kubernetes service accounts\"), mdx(\"p\", null, \"Two new IAM roles will be needed in this scenario. One for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"prometheusMetrics\"), \" configuration\\nand one for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"otlpIngest\"), \" configuration. Our examples will use eksctl for creating the IAM Roles\\nbut alternative options can be found in the IAM roles for service account documentation. In the\\nfollowing examples \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<cluster_name>\"), \" must be substituted for the name of your EKS cluster. \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"eksctl create iamserviceaccount \\\\\\n    --name adot-col-prom-metrics \\\\\\n    --namespace opentelemetry-operator-system \\\\\\n    --cluster <cluster_name> \\\\\\n    --attach-policy-arn arn:aws:iam::aws:policy/AmazonPrometheusRemoteWriteAccess \\\\\\n    --attach-policy-arn arn:aws:iam::aws:policy/CloudWatchAgentServerPolicy \\\\\\n    --role-only \\\\\\n    --approve \\n    \\neksctl create iamserviceaccount \\\\\\n    --name adot-col-otlp-ingest \\\\\\n    --namespace opentelemetry-operator-system \\\\\\n    --cluster <cluster_name> \\\\\\n    --attach-policy-arn arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess \\\\\\n    --role-only \\\\\\n    --approve  \\n\")), mdx(\"h3\", {\n    \"id\": \"pre-v0880-advanced-configuration\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#pre-v0880-advanced-configuration\",\n    \"aria-label\": \"pre v0880 advanced configuration permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Pre v0.88.0 Advanced Configuration\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"collector:\\n  serviceAccount:\\n    create: false\\n    name: \\\"addon-test-sa\\\"\\n  xray:\\n    enabled: true\\n  amp:\\n    enabled: true\\n    remoteWriteEndpoint: \\\"https://aps-workspaces.<region>.amazonaws.com/workspaces/<workspace_id>/api/v1/remote_write\\\"\\n  cloudwatch:\\n    enabled: true\\n  resources:\\n    requests:\\n      cpu: \\\"1\\\"\\n      memory: \\\"1G\\\"\\n    limits:\\n      cpu: \\\"2\\\"\\n      memory: \\\"2G\\\"\\n\")), mdx(\"h3\", {\n    \"id\": \"post-v0880\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#post-v0880\",\n    \"aria-label\": \"post v0880 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Post v0.88.0\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"collector:\\n  prometheusMetrics:\\n    pipelines:\\n      metrics:\\n        amp:\\n          enabled: true\\n        emf:\\n          enabled: true\\n    exporters:\\n      prometheusremotewrite:\\n        endpoint: \\\"https://aps-workspaces.<region>.amazonaws.com/workspaces/<workspace_id>/api/v1/remote_write\\\"\\n    resources:\\n      requests:\\n        cpu: \\\"1\\\"\\n        memory: \\\"1G\\\"\\n      limits:\\n        cpu: \\\"2\\\"\\n        memory: \\\"2G\\\"\\n    serviceAccount:\\n      annotations:\\n        eks.amazonaws.com/role-arn: \\\"<prom_metrics_iam_role_arn>\\\"\\n  otlpIngest:\\n    pipelines:\\n      traces:\\n        xray:\\n          enabled: true\\n    resources:\\n      requests:\\n        cpu: \\\"1\\\"\\n        memory: \\\"1G\\\"\\n      limits:\\n        cpu: \\\"2\\\"\\n        memory: \\\"2G\\\"\\n    serviceAccount:\\n      annotations:\\n        eks.amazonaws.com/role-arn: \\\"<otlp_ingest_iam_role_arn>\\\"\\n\")), mdx(\"h3\", {\n    \"id\": \"updating-application-otlp-exporter-endpoints\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#updating-application-otlp-exporter-endpoints\",\n    \"aria-label\": \"updating application otlp exporter endpoints permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Updating application OTLP Exporter endpoints\"), mdx(\"p\", null, \"Previously, after configuring \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"collector.xray.enabled\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true\"), \" users would configure their applications\\nOTLP exporter to send trace signals to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://my-collector-collector:4317\"), \". \"), mdx(\"p\", null, \"With the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/docs/getting-started/adot-eks-add-on/add-on-v88-migration#separated-collector-deployments-for-prometheus-metrics-and-otlp-trace-ingestion\"\n  }, \"individual collector deployments\"), \"\\nintroduced in v0.88.0 users will need to update their applications OTLP exporter endpoint to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://adot-col-otlp-ingest-collector:4317\")));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"depth":2,"value":"Notable changes"},{"depth":3,"value":"Separated collector deployments for Prometheus metrics and OTLP trace ingestion"},{"depth":3,"value":"Service accounts are now created with a fixed name and creation behavior"},{"depth":3,"value":"Deployment mode is no longer configurable"},{"depth":3,"value":"Replica count is no longer configurable"},{"depth":3,"value":"Increased resource configuration defaults"},{"depth":2,"value":"Advanced Configuration Migration"},{"depth":3,"value":"Create new IAM roles for Kubernetes service accounts"},{"depth":3,"value":"Pre v0.88.0 Advanced Configuration"},{"depth":3,"value":"Post v0.88.0"},{"depth":3,"value":"Updating application OTLP Exporter endpoints"}]}},"pageContext":{"slug":"/docs/getting-started/adot-eks-add-on/add-on-v88-migration/","repositoryEditUrl":"https://github.com/rocketseat/gatsby-themes/tree/main/examples/gatsby-theme-docs/src/docs/getting-started/adot-eks-add-on/add-on-v88-migration.mdx","repositoryProvider":"GitHub"}},
    "staticQueryHashes": ["2501019404","973074209"]}